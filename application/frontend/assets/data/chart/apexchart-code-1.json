import React from 'react';
import Chart from 'react-apexcharts';
import { getChartApexDefaultOptions } from './composables/apexChartOptions.js';

function ChartApex() {
  var theme = (getComputedStyle(document.body).getPropertyValue('--bs-theme')).trim();
  var white = (getComputedStyle(document.body).getPropertyValue('--bs-white')).trim();
  
  var chartOptions = getChartApexDefaultOptions();
  chartOptions.chart = { toolbar: { show: false } };
  chartOptions.title.text = 'Average High & Low Temperature';
  chartOptions.title.align = 'center';
  chartOptions.colors = [theme, white];
  chartOptions.dataLabels.enabled = true;
  chartOptions.dataLabels.offsetY = 1;
  chartOptions.dataLabels.background = { foreColor: '#000', enabled: true, padding: 3.5, borderRadius: 0, borderWidth: 0, opacity: 1, dropShadow: { enabled: false } };
  chartOptions.stroke = { curve: 'smooth', width: 3 };
  chartOptions.grid.row = { colors: [white, 'transparent'], opacity: 0.15 };
  chartOptions.markers = { size: 4 };
  chartOptions.xaxis.categories = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'];
  chartOptions.yaxis.min = 5;
  chartOptions.yaxis.max = 40;
  chartOptions.legend.show = true;
  chartOptions.legend.position = 'top';
  chartOptions.legend.offsetY = -10;
  chartOptions.legend.horizontalAlign = 'right';
  chartOptions.legend.floating = true;
  
  var chartData = [
    { name: 'High - 2024', data: [28, 29, 33, 36, 32, 32, 33]  }, 
    { name: 'Low - 2024', data: [12, 11, 14, 18, 17, 13, 13] }
  ];
  
  return (
    <div>
      <Chart type="line" options={chartOptions} series={chartData} height="250" />
    </div>
  )
}

export default ChartApex;